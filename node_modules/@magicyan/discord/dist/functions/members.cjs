'use strict';

function findMember(guild) {
  const cache = guild.members.cache;
  return {
    byGlobalName(globalName, and = () => true) {
      return cache.find((member) => member.user.globalName == globalName && and(member));
    },
    byNickname(nickname, and = () => true) {
      return cache.find((member) => member.nickname && member.nickname == nickname && and(member));
    },
    byUsername(username, and = () => true) {
      return cache.find((member) => member.user.username === username && and(member));
    },
    byDisplayName(displayName, and = () => true) {
      return cache.find((member) => member.displayName === displayName && and(member));
    },
    byId(id) {
      return cache.get(id);
    },
    byFilter(filter) {
      return cache.find(filter);
    }
  };
}

exports.findMember = findMember;
