'use strict';

const discord_js = require('discord.js');

function findCommand(guildOrClient) {
  const commands = guildOrClient instanceof discord_js.Client ? guildOrClient.application.commands.cache : guildOrClient.commands.cache;
  return {
    byName(name, and = () => true) {
      return commands.find((command) => command.name === name && and(command));
    },
    byId(id) {
      return commands.get(id);
    },
    byFilter(filter) {
      return commands.find(filter);
    }
  };
}
function commandMention(command, a, b) {
  const args = [command.name, command.id];
  if (a && b) {
    args.splice(1, 0, a, b);
  }
  if (a && !b) {
    args.splice(1, 0, a);
  }
  return discord_js.chatInputApplicationCommandMention(...args);
}

exports.commandMention = commandMention;
exports.findCommand = findCommand;
